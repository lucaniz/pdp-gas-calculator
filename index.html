<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PDP Gas Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f9f9f9;
      padding: 20px;
    }
    h2 {
      margin-top: 40px;
      color: #333;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      margin-bottom: 30px;
      background-color: #fff;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }
    th, td {
      border: 1px solid #ccc;
      padding: 10px;
      font-size: 14px;
      text-align: left;
    }
    th {
      background-color: #eee;
    }
    .subsection {
      background-color: #dbeeff;
      font-weight: bold;
      text-align: center;
    }
    input[type="number"], select {
      padding: 5px;
      width: 100px;
    }
  </style>
</head>
<body>

  <h2>Parameters</h2>

  <!-- Gas Units Section -->
  <table>
    <tr><td colspan="4" class="subsection">Gas Units</td></tr>
    <tr><th>Name</th><th>Value</th></tr>
    <tr><td>100 roots</td><td>140000000</td></tr>
    <tr><td>1000 roots</td><td>150000000</td></tr>
    <tr><td>10000 roots</td><td>160000000</td></tr>
    <tr><td>100000 roots</td><td>170000000</td></tr>
  </table>

  <!-- Base Fee Section -->
  <table>
    <tr><td colspan="4" class="subsection">Base Fee</td></tr>
    <tr><th>Name</th><th>Value</th></tr>
    <tr><td>High base fee (0.1 nanoFIL)</td><td>1.00E-10</td></tr>
    <tr><td>Low base fee (100 attoFIL)</td><td>1.00E-16</td></tr>
    <tr><td>Last 30days average</td><td>5.56E-12</td></tr>
  </table>

  <!-- Inputs Section -->
  <h2>Inputs</h2>
  <table>
    <tr><th>Name</th><th>Value</th></tr>
    <tr><td>Deal price per TiB per month (USD)</td><td><input type="number" id="dealPrice" value="2" step="0.1" /></td></tr>
    <tr><td>FIL price (USD)</td><td><input type="number" id="filPrice" value="3" step="0.1" /></td></tr>
    <tr><td>Number of roots</td>
      <td>
        <select id="roots">
          <option value="100">100</option>
          <option value="1000">1000</option>
          <option value="10000">10000</option>
          <option value="100000">100000</option>
        </select>
      </td>
    </tr>
    <tr><td>ProofSet size (GiB)</td><td><input type="number" id="proofSize" value="100" min="0.01" step="0.01" /></td></tr>
    <tr><td>Number of proofs in a day</td><td><input type="number" id="proofsPerDay" value="1" min="1" /></td></tr>
  </table>

  <!-- Internal Math Section -->
  <h2>Internal Math</h2>
  <table>
    <tr><th>Name</th><th>Value</th></tr>
    <tr><td>Reward per 24h per byte (USD)</td><td>6.06E-14</td></tr>
    <tr><td>Reward per 24h per byte (FIL)</td><td>2.02E-14</td></tr>
    <tr><td>Upper bound (5%), FIL</td><td>1.09E+07</td></tr>
    <tr><td>Lower Bound (4%), FIL</td><td>8.74E+06</td></tr>
    <tr><td>1%, FIL</td><td>2.18E+06</td></tr>
  </table>

  <!-- Outputs Section -->
  <h2>Outputs</h2>
  <table>
    <tr>
      <th></th>
      <th>High base fee (0.1 nanoFIL)</th>
      <th>Low base fee (100 attoFIL)</th>
      <th>Last 30days average</th>
    </tr>
    <tr>
      <td>Daily gas fee (FIL)</td>
      <td>highFee × (gasUnits + 10⁷ × log₁₀(roots/gasUnits)) × proofsPerDay</td>
      <td>lowFee × (gasUnits + 10⁷ × log₁₀(roots/gasUnits)) × proofsPerDay</td>
      <td>avgFee × (gasUnits + 10⁷ × log₁₀(roots/gasUnits)) × proofsPerDay</td>
    </tr>
    <tr>
      <td>Daily PDP proof fee (FIL)</td>
      <td>IF(gasFee > upper, 0, IF(gasFee > lower, upper - gasFee, onePercent)) × proofsPerDay</td>
      <td>Same logic using low base fee</td>
      <td>Same logic using avg base fee</td>
    </tr>
    <tr>
      <td>Daily profit (per proofset, FIL)</td>
      <td>reward × proofSize × 1024³ - (gasFee + pdpFee)</td>
      <td>Same logic using low base fee</td>
      <td>Same logic using avg base fee</td>
    </tr>
  </table>

</body>
</html>

